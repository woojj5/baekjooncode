#include <iostream>
using namespace std;
int arr[500][500];
int n,m, ans;

int a[19][4][2] =  {
 { {0,0}, {0,1}, {1,0}, {1,1} },
    { {0,0}, {0,1}, {0,2}, {0,3} }, 
    { {0,0}, {1,0}, {2,0}, {3,0} },
    { {0,0}, {0,1}, {0,2}, {1,0} }, 
    { {0,2}, {1,0}, {1,1}, {1,2} },
    { {0,0}, {1,0}, {1,1}, {1,2} },
    { {0,0}, {0,1}, {0,2}, {1,2} },
    { {0,0}, {1,0}, {2,0}, {2,1} },
    { {0,0}, {0,1}, {1,1}, {2,1} },
    { {0,0}, {0,1}, {1,0}, {2,0} },
    { {0,1}, {1,1}, {2,0}, {2,1} },
    { {0,0}, {1,0}, {1,1}, {2,1} }, 
    { {0,1}, {1,0}, {1,1}, {2,0} },
    { {0,1}, {0,2}, {1,0}, {1,1} },
    { {0,0}, {0,1}, {1,1}, {1,2} },
    { {0,0}, {0,1}, {0,2}, {1,1} }, 
    { {0,1}, {1,0}, {1,1}, {1,2} },
    { {0,1}, {1,0}, {1,1}, {2,1} },
    { {0,0}, {1,0}, {1,1}, {2,0} }
};



void termo(int x, int y){
	for(int i = 0; i< 19; i++){
		int res = 0;
		for(int j = 0; j< 4; j++){
			int nx = x + a[i][j][0];
			int ny = y + a[i][j][1];
			if(0<= nx && nx < n && 0 <= ny && ny < m ) res += arr[nx][ny];
		}
		if(ans < res) ans = res;
	}
} 
void solve(){
	for(int i = 0; i< n; i++) for(int j = 0; j< m; j++) termo(i,j);
	cout << ans;
}


int main(int argc, char** argv) {
	cin >> n >> m;
	for(int i = 0; i< n; i++) {
		for(int j = 0; j< m; j++) {
			int x;
			cin >> x;
			arr[i][j] = x;
		}	
	}
	solve();
		
	return 0;
}
